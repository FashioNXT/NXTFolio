<!DOCTYPE html>
<html>
<head>
  <title>FashioNXT</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="shortcut icon" href="<%= asset_path "favicon.jpg"%>">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="<%= asset_path "bootstrap.min.css"%>">
  <link rel="stylesheet" href="<%= asset_path "icon.css"%>">
  <link rel="stylesheet" href="<%= asset_path "loader.css"%>">
  <link rel="stylesheet" href="<%= asset_path "adv_search.css"%>">
  <link rel="stylesheet" href="<%= asset_path "idangerous.swiper.css"%>">
  <link rel="stylesheet" href="<%= asset_path "jquery-ui.css"%>">
  <link rel="stylesheet" href="<%= asset_path "stylesheet.css"%>">
  <link rel="stylesheet" href="<%= asset_path "profile.css"%>">
  <link rel="stylesheet" href="<%= asset_path "search_engine.css"%>">
  <link rel="stylesheet" href="<%= asset_path "search_button.css"%>">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="<%= asset_path "notifications.css"%>">
  <style>
/* CSS for small screens */
@media (max-width: 560px) {
  .navbar-toggle {
    width: 20%; /* Take half the width */
  }

  .navbar-brand {
    width: 60%; /* Take half the width */
  }

  .navbar-brand img {
    max-width: 100%; /* Ensure the logo scales properly */
  }
}

</style>
</head>
<body>
<!-- HEADER -->
<header>
		<nav class="navbar" style="color: black;">
			<div class="container-fluid">
				<div class="navbar-header">
				<button type="button" class="navbar-toggle col-6" data-toggle="collapse" data-target="#myNavbar"> 
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand col-6" href="/">
					<img class="logo-c active be_logo"  src="<%= asset_path "new_logo.png"%>" alt="logo">
				</a>
				</div>
				<!-- Main Buttons -->
				<div class="collapse navbar-collapse" id="myNavbar">
        <% if session[:current_user_key] %>
				<ul class="nav navbar-nav">
          <li><a href="/job_info">Manage Job</a></li>
          <li><a href="/job_info/new_job">Post Job</a></li>
					<li><a href="/general_info/edit_travel">Travel</a></li>
          <% if @on_Own %>
					<li class="dropdown">
						<a class="dropdown-toggle" data-toggle="dropdown" href="#">Edit Profile
							<span class="caret"></span>
						</a>
						<ul class="dropdown-menu">
							<li><a href="/general_info/edit">Edit Personal Info</a></li>
							<% if @attribute_titles && !@is_Admin %>
								<li><a href="/general_info/edit2">Edit Professional Info</a></li>
							<% end %>
								<li><a href="/login_info/edit">Change Password</a></li>
							<% if !@is_Admin %>
								<li><a href="general_info/make_admin/<%=@addUser%>">Make Administrator</a></li>
							<% elsif @is_Admin%>
								<li><a href="/admin">Admin Dashboard</a></li>
							<% end %>
						</ul>
					</li>
          <% end %>
					<li class="active"><a href="/show_profile">My Profile</a></li>
					<li><a href="/search_engine/show">Search</a></li>
					<li><a href="/chat">AI Chatbot</a></li>
          <% end %>
				</ul>
				<ul class="nav navbar-nav navbar-right">
				<% if session[:current_user_key] %>
					<!-- Notifications Dropdown -->
					<li class="nav-item dropdown">
					<a href="#" class="nav-link dropdown-toggle" id="notificationsDropdown" role="button" data-toggle="dropdown" aria-expanded="false">
						<% if @user && @user.notification %>
						<i class="fa-regular fa-bell fa-xl" style="color:#147efb"></i>
						<% else %>
						<i class="fa-regular fa-bell fa-xl" style="color:black"></i>
						<% end %>
					</a>
					<ul class="dropdown-menu" aria-labelledby="notificationsDropdown">
						<% if @user && @user.notification %>
						<% @notifications_from.each do |notification| %>
							<li><a class="dropdown-item" href="/dm/<%= notification %>">
							<b><%= GeneralInfo.find_by(id: notification).first_name %> <%= GeneralInfo.find_by(id: notification).last_name %> sent you a message!</b>
							</a></li>
						<% end %>
						<% else %>
						<li class="dropdown-item text-center">
							<i class="fa-regular fa-circle-check fa-5x" style="color:black; padding:30px;"></i>
							<div style="color: black; height: 20px;"><b>You're all caught up!</b></div>
							<div style="color: black; height: 20px;"><b>No new messages.</b></div>
						</li>
						<% end %>
					</ul>
					</li>

					<!-- Direct Messages Button -->
					<li class="nav-item">
					<a href="/dm" class="nav-link" id="dm">
						<i class="fa-regular fa-message fa-xl" style="color:black"></i>
					</a>
					</li>

					<!-- Log Out Button -->
					<li class="nav-item">
					<%= link_to logout_path, method: :get, class: "nav-link" do %>
						<span class="glyphicon glyphicon-log-out"></span> Log out
					<% end %>
					</li>
				<% else %>
					<!-- Log In Button -->
					<li class="nav-item">
					<%= link_to login_path, method: :get, class: "nav-link" do %>
						<span class="glyphicon glyphicon-log-in"></span> Sign In
					<% end %>
          <!-- Sign Up Button -->
					<li class="nav-item">
					<%= link_to new_user_registration_path, method: :get, class: "nav-link" do %>
						<span class="fa fa-user-plus"></span> Sign Up
					<% end %>
					</li>
				<% end %>
				</ul>

				</div>
			</div>
		</nav>
	</header>

<!-- CONTENT -->
<div class="searchboxcontainer">
  <div class="searchpagesearch">
  <%= form_tag(job_info_search_path, :method=>'get') do %>
    <div class="searchContainer" id="advsearch">
      <h5 class="mod-1">What jobs are you looking for?</h5>
      <div class="col-md-1">
      </div>
      <div class="col-md-12" >
        <div id="custom-search-input">
          <div class="input-group col-md-12">
            <input name="Keyword" id="search" type="text" class="form-control input-lg" value="<%= @EnteredKw %>" />
            <span class="input-group-btn">
                          <button id="job_search_button" class="btn btn-info btn-lg" type="submit">
                              <i class="glyphicon glyphicon-search"></i>
                          </button>
                      </span>
          </div>
        </div>

        <div class="buttongroup-class">
          <div class="row">
            <div class="col-md-6">
              <div class="form-group"> <label class="changedLabel">Category</label> <select id="general_info_industry" name="Industry" data-trigger="" class="form-control select2 select2-hidden-accessible" style="width: 90%;" tabindex="-1" aria-hidden="true">
                <option placeholder="" value="">Select</option>
                <option>Creators</option>
                <option>Services</option>
                <option>Makers</option>
              </select> </div> <!-- /.form-group -->
            </div> <!-- /.col -->

            <div class="col-md-6">
              <div class="form-group"> <label class="changedLabel">Profession</label> <select id="general_info_job_name" name="Profession" data-trigger="" class="form-control select2 select2-hidden-accessible" style="width: 90%;" tabindex="-1" aria-hidden="true">
                <option placeholder="" value="">Select</option>
                <option>Brand Owner</option>
                <option>Designer</option>
                <option>Other Creator</option>
                <option>Model</option>
                <option>Photographer</option>
                <option>Sales</option>
                <option>Marketing</option>
                <option>Retail</option>
                <option>Visual</option>
                <option>Content Creator</option>
                <option>Blogger</option>
                <option>Influencer</option>
                <option>Forecasting</option>
                <option>Finances</option>
                <option>Other Service</option>
                <option>Manufacturing</option>
                <option>Materials</option>
                <option>Other Makers</option>
              </select> </div> <!-- /.form-group -->
            </div> <!-- /.col -->


            <div class="col-md-4">
              <div class="form-group"> <label class="changedLabel">Country</label> <select name="Country" id="country" data-trigger="" class="countries form-control select2 select2-hidden-accessible" style="width: 90%;" tabindex="-1" aria-hidden="true">
                <option value="">Select Country</option>
              </select> </div> <!-- /.form-group -->
            </div> <!-- /.col -->

            <div class="col-md-4">
              <div class="form-group"> <label class="changedLabel">State</label> <select name="State" id="state" data-trigger="" class="states form-control select2 select2-hidden-accessible" style="width: 90%;" tabindex="-1" aria-hidden="true">
                <option value="">Select State</option>
              </select> </div> <!-- /.form-group -->
            </div> <!-- /.col -->

            <div class="col-md-4">
              <div class="form-group"> <label class="changedLabel">City</label> 
                <input type="text" name="City" id="city" class="form-control" style="width: 90%;" tabindex="-1" aria-hidden="true">
              </div> <!-- /.form-group -->
            </div> <!-- /.col -->
          </div>
        </div>


      </div>
    </div>
    </div>
  <% end %>
  </div>



  <!-- Display Search Result -->
  <% if @final_users.none? %>
  <div class="divider"><span></span><span>No Results For This </span><span></span></div>
  <% else %>
  <div class="divider"><span></span><span>Search Results For Jobs</span><span></span></div>
  <% end %>

  <% if @final_users.none? %>
    No matching profiles
  <% end %>
  <div class="container-fluid custom-container">
    <div class="row profile-row">
    <div class="col-md-10 col-md-offset-1">
        <% @final_users.present? and @final_users.each do |info| %>
          <div class="be-post">
          <div class="col-md-6">

            <div class="job-list-box">

              <div class="be-desc-author">

                <div class="be-desc-label">Job Title: <%= info.title%></div>
                

                
                  
                  <div>Description: <%= info.description%></div>
                  <div>Category: <%= info.category%></div>
                  <div>Profession: <%= info.profession%></div>
                  <div>Location: <%= info.country%>, <%= info.state%>, <%= info.city%></div>
                  <div>Salary (Annual): <%= info.low_salary%> ~ <%= info.high_salary%></div>
                  
                  <td>
                    <%= link_to "More Infos", visitor_job_info_path(info) %>
                  </td>

                

              </div>
                
            </div>
              

          </div>
          </div>
        <% end %>

    </div>
    </div>
    </div>
  </div>










<!-- FOOTER -->
<%= render 'shared/footer' %>

<script>
    const customSelects = document.querySelectorAll("select");
    const deleteBtn = document.getElementById('delete')
    const choices = new Choices('select',
        {
            searchEnabled: false,
            removeItemButton: true,
            itemSelectText: '',
        });
    for (let i = 0; i < customSelects.length; i++)
    {
        customSelects[i].addEventListener('addItem', function(event)
        {
            if (event.detail.value)
            {
                let parent = this.parentNode.parentNode
                parent.classList.add('valid')
                parent.classList.remove('invalid')
            }
            else
            {
                let parent = this.parentNode.parentNode
                parent.classList.add('invalid')
                parent.classList.remove('valid')
            }
        }, false);
    }
    deleteBtn.addEventListener("click", function(e)
    {
        e.preventDefault()
        const deleteAll = document.querySelectorAll('.choices__button')
        for (let i = 0; i < deleteAll.length; i++)
        {
            deleteAll[i].click();
        }
    });

</script>
<script src="<%= asset_path "professionPicker.js"%>"></script>
<script src="<%= asset_path "jquery.min.js"%>"></script>
<script src="<%= asset_path "jquery-ui.js"%>"></script>
<script src="<%= asset_path "bootstrap.min.js"%>"></script>
<script src="<%= asset_path "idangerous.swiper.min.js"%>"></script>
<script src="<%= asset_path "jquery.mixitup.js"%>"></script>
<script src="<%= asset_path "jquery.viewportchecker.min.js"%>"></script>
<script src="<%= asset_path "global.js"%>"></script>
<script src="<%= asset_path "location.js"%>"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
</body><!-- This templates was made by Colorlib (https://colorlib.com) -->
</html>